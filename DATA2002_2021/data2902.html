<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

<style>
  div.csl-bib-body { }
  div.csl-entry {
    clear: both;
    }
  .hanging div.csl-entry {
    margin-left:2em;
    text-indent:-2em;
  }
  div.csl-left-margin {
    min-width:2em;
    float:left;
  }
  div.csl-right-inline {
    margin-left:2em;
    padding-left:1em;
  }
  div.csl-indent {
    margin-left: 2em;
  }
</style>

  <!--radix_placeholder_meta_tags-->
  <title>DATA2x02: DATA2902 resources</title>




  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="DATA2x02: DATA2902 resources"/>
  <meta property="og:type" content="article"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:site_name" content="DATA2x02"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="DATA2x02: DATA2902 resources"/>

  <!--/radix_placeholder_meta_tags-->
  
  <meta name="citation_reference" content="citation_title=Influence of sex role stereotypes on personnel decisions;citation_publication_date=1974;citation_volume=59;citation_author=B. Rosen;citation_author=T. H. Jerdee"/>
  <meta name="citation_reference" content="citation_title=Mathematical statistics and data analysis;citation_publication_date=2006;citation_publisher=Cengage Learning;citation_author=J. A. Rice"/>
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","bibliography"]}},"value":[{"type":"character","attributes":{},"value":["DATA2902 resources"]},{"type":"character","attributes":{},"value":["DATA2002.bib"]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  <!--radix_placeholder_navigation_in_header-->
  <meta name="distill:offset" content=""/>

  <script type="application/javascript">

    window.headroom_prevent_pin = false;

    window.document.addEventListener("DOMContentLoaded", function (event) {

      // initialize headroom for banner
      var header = $('header').get(0);
      var headerHeight = header.offsetHeight;
      var headroom = new Headroom(header, {
        tolerance: 5,
        onPin : function() {
          if (window.headroom_prevent_pin) {
            window.headroom_prevent_pin = false;
            headroom.unpin();
          }
        }
      });
      headroom.init();
      if(window.location.hash)
        headroom.unpin();
      $(header).addClass('headroom--transition');

      // offset scroll location for banner on hash change
      // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
      window.addEventListener("hashchange", function(event) {
        window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
      });

      // responsive menu
      $('.distill-site-header').each(function(i, val) {
        var topnav = $(this);
        var toggle = topnav.find('.nav-toggle');
        toggle.on('click', function() {
          topnav.toggleClass('responsive');
        });
      });

      // nav dropdowns
      $('.nav-dropbtn').click(function(e) {
        $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
        $(this).parent().siblings('.nav-dropdown')
           .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $("body").click(function(e){
        $('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $(".nav-dropdown").click(function(e){
        e.stopPropagation();
      });
    });
  </script>

  <style type="text/css">

  /* Theme (user-documented overrideables for nav appearance) */

  .distill-site-nav {
    color: rgba(255, 255, 255, 0.8);
    background-color: #0F2E3D;
    font-size: 15px;
    font-weight: 300;
  }

  .distill-site-nav a {
    color: inherit;
    text-decoration: none;
  }

  .distill-site-nav a:hover {
    color: white;
  }

  @media print {
    .distill-site-nav {
      display: none;
    }
  }

  .distill-site-header {

  }

  .distill-site-footer {

  }


  /* Site Header */

  .distill-site-header {
    width: 100%;
    box-sizing: border-box;
    z-index: 3;
  }

  .distill-site-header .nav-left {
    display: inline-block;
    margin-left: 8px;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header .nav-left {
      margin-left: 0;
    }
  }


  .distill-site-header .nav-right {
    float: right;
    margin-right: 8px;
  }

  .distill-site-header a,
  .distill-site-header .title {
    display: inline-block;
    text-align: center;
    padding: 14px 10px 14px 10px;
  }

  .distill-site-header .title {
    font-size: 18px;
    min-width: 150px;
  }

  .distill-site-header .logo {
    padding: 0;
  }

  .distill-site-header .logo img {
    display: none;
    max-height: 20px;
    width: auto;
    margin-bottom: -4px;
  }

  .distill-site-header .nav-image img {
    max-height: 18px;
    width: auto;
    display: inline-block;
    margin-bottom: -3px;
  }



  @media screen and (min-width: 1000px) {
    .distill-site-header .logo img {
      display: inline-block;
    }
    .distill-site-header .nav-left {
      margin-left: 20px;
    }
    .distill-site-header .nav-right {
      margin-right: 20px;
    }
    .distill-site-header .title {
      padding-left: 12px;
    }
  }


  .distill-site-header .nav-toggle {
    display: none;
  }

  .nav-dropdown {
    display: inline-block;
    position: relative;
  }

  .nav-dropdown .nav-dropbtn {
    border: none;
    outline: none;
    color: rgba(255, 255, 255, 0.8);
    padding: 16px 10px;
    background-color: transparent;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    margin: 0;
    margin-top: 1px;
    z-index: 2;
  }

  .nav-dropdown-content {
    display: none;
    position: absolute;
    background-color: white;
    min-width: 200px;
    border: 1px solid rgba(0,0,0,0.15);
    border-radius: 4px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
    z-index: 1;
    margin-top: 2px;
    white-space: nowrap;
    padding-top: 4px;
    padding-bottom: 4px;
  }

  .nav-dropdown-content hr {
    margin-top: 4px;
    margin-bottom: 4px;
    border: none;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .nav-dropdown-active {
    display: block;
  }

  .nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
    color: black;
    padding: 6px 24px;
    text-decoration: none;
    display: block;
    text-align: left;
  }

  .nav-dropdown-content .nav-dropdown-header {
    display: block;
    padding: 5px 24px;
    padding-bottom: 0;
    text-transform: uppercase;
    font-size: 14px;
    color: #999999;
    white-space: nowrap;
  }

  .nav-dropdown:hover .nav-dropbtn {
    color: white;
  }

  .nav-dropdown-content a:hover {
    background-color: #ddd;
    color: black;
  }

  .nav-right .nav-dropdown-content {
    margin-left: -45%;
    right: 0;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
    .distill-site-header a.nav-toggle {
      float: right;
      display: block;
    }
    .distill-site-header .title {
      margin-left: 0;
    }
    .distill-site-header .nav-right {
      margin-right: 0;
    }
    .distill-site-header {
      overflow: hidden;
    }
    .nav-right .nav-dropdown-content {
      margin-left: 0;
    }
  }


  @media screen and (max-width: 768px) {
    .distill-site-header.responsive {position: relative; min-height: 500px; }
    .distill-site-header.responsive a.nav-toggle {
      position: absolute;
      right: 0;
      top: 0;
    }
    .distill-site-header.responsive a,
    .distill-site-header.responsive .nav-dropdown {
      display: block;
      text-align: left;
    }
    .distill-site-header.responsive .nav-left,
    .distill-site-header.responsive .nav-right {
      width: 100%;
    }
    .distill-site-header.responsive .nav-dropdown {float: none;}
    .distill-site-header.responsive .nav-dropdown-content {position: relative;}
    .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
      display: block;
      width: 100%;
      text-align: left;
    }
  }

  /* Site Footer */

  .distill-site-footer {
    width: 100%;
    overflow: hidden;
    box-sizing: border-box;
    z-index: 3;
    margin-top: 30px;
    padding-top: 30px;
    padding-bottom: 30px;
    text-align: center;
  }

  /* Headroom */

  d-title {
    padding-top: 6rem;
  }

  @media print {
    d-title {
      padding-top: 4rem;
    }
  }

  .headroom {
    z-index: 1000;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
  }

  .headroom--transition {
    transition: all .4s ease-in-out;
  }

  .headroom--unpinned {
    top: -100px;
  }

  .headroom--pinned {
    top: 0;
  }

  /* adjust viewport for navbar height */
  /* helps vertically center bootstrap (non-distill) content */
  .min-vh-100 {
    min-height: calc(100vh - 100px) !important;
  }

  </style>

  <script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
  <link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
  <script src="site_libs/headroom-0.9.4/headroom.min.js"></script>
  <script src="site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
  <script src="site_libs/fuse-6.4.1/fuse.min.js"></script>

  <script type="application/javascript">

  function getMeta(metaName) {
    var metas = document.getElementsByTagName('meta');
    for (let i = 0; i < metas.length; i++) {
      if (metas[i].getAttribute('name') === metaName) {
        return metas[i].getAttribute('content');
      }
    }
    return '';
  }

  function offsetURL(url) {
    var offset = getMeta('distill:offset');
    return offset ? offset + '/' + url : url;
  }

  function createFuseIndex() {

    // create fuse index
    var options = {
      keys: [
        { name: 'title', weight: 20 },
        { name: 'categories', weight: 15 },
        { name: 'description', weight: 10 },
        { name: 'contents', weight: 5 },
      ],
      ignoreLocation: true,
      threshold: 0
    };
    var fuse = new window.Fuse([], options);

    // fetch the main search.json
    return fetch(offsetURL('search.json'))
      .then(function(response) {
        if (response.status == 200) {
          return response.json().then(function(json) {
            // index main articles
            json.articles.forEach(function(article) {
              fuse.add(article);
            });
            // download collections and index their articles
            return Promise.all(json.collections.map(function(collection) {
              return fetch(offsetURL(collection)).then(function(response) {
                if (response.status === 200) {
                  return response.json().then(function(articles) {
                    articles.forEach(function(article) {
                      fuse.add(article);
                    });
                  })
                } else {
                  return Promise.reject(
                    new Error('Unexpected status from search index request: ' +
                              response.status)
                  );
                }
              });
            })).then(function() {
              return fuse;
            });
          });

        } else {
          return Promise.reject(
            new Error('Unexpected status from search index request: ' +
                        response.status)
          );
        }
      });
  }

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // get search element (bail if we don't have one)
    var searchEl = window.document.getElementById('distill-search');
    if (!searchEl)
      return;

    createFuseIndex()
      .then(function(fuse) {

        // make search box visible
        searchEl.classList.remove('hidden');

        // initialize autocomplete
        var options = {
          autoselect: true,
          hint: false,
          minLength: 2,
        };
        window.autocomplete(searchEl, options, [{
          source: function(query, callback) {
            const searchOptions = {
              isCaseSensitive: false,
              shouldSort: true,
              minMatchCharLength: 2,
              limit: 10,
            };
            var results = fuse.search(query, searchOptions);
            callback(results
              .map(function(result) { return result.item; })
            );
          },
          templates: {
            suggestion: function(suggestion) {
              var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
                ? `<img src="${offsetURL(suggestion.preview)}"</img>`
                : '';
              var html = `
                <div class="search-item">
                  <h3>${suggestion.title}</h3>
                  <div class="search-item-description">
                    ${suggestion.description || ''}
                  </div>
                  <div class="search-item-preview">
                    ${img}
                  </div>
                </div>
              `;
              return html;
            }
          }
        }]).on('autocomplete:selected', function(event, suggestion) {
          window.location.href = offsetURL(suggestion.path);
        });
        // remove inline display style on autocompleter (we want to
        // manage responsive display via css)
        $('.algolia-autocomplete').css("display", "");
      })
      .catch(function(error) {
        console.log(error);
      });

  });

  </script>

  <style type="text/css">

  .nav-search {
    font-size: x-small;
  }

  /* Algolioa Autocomplete */

  .algolia-autocomplete {
    display: inline-block;
    margin-left: 10px;
    vertical-align: sub;
    background-color: white;
    color: black;
    padding: 6px;
    padding-top: 8px;
    padding-bottom: 0;
    border-radius: 6px;
    border: 1px #0F2E3D solid;
    width: 180px;
  }


  @media screen and (max-width: 768px) {
    .distill-site-nav .algolia-autocomplete {
      display: none;
      visibility: hidden;
    }
    .distill-site-nav.responsive .algolia-autocomplete {
      display: inline-block;
      visibility: visible;
    }
    .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
      margin-left: 0;
      width: 400px;
      max-height: 400px;
    }
  }

  .algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
    width: 90%;
    outline: none;
    border: none;
  }

  .algolia-autocomplete .aa-hint {
    color: #999;
  }
  .algolia-autocomplete .aa-dropdown-menu {
    width: 550px;
    max-height: 70vh;
    overflow-x: visible;
    overflow-y: scroll;
    padding: 5px;
    margin-top: 3px;
    margin-left: -150px;
    background-color: #fff;
    border-radius: 5px;
    border: 1px solid #999;
    border-top: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
    cursor: pointer;
    padding: 5px 4px;
    border-bottom: 1px solid #eee;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
    border-bottom: none;
    margin-bottom: 2px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
    overflow: hidden;
    font-size: 0.8em;
    line-height: 1.4em;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
    font-size: 1rem;
    margin-block-start: 0;
    margin-block-end: 5px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
    display: inline-block;
    overflow: hidden;
    height: 2.8em;
    width: 80%;
    margin-right: 4%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
    display: inline-block;
    width: 15%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
    height: 3em;
    width: auto;
    display: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
    display: initial;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
    background-color: #eee;
  }
  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
    font-weight: bold;
    font-style: normal;
  }

  </style>


  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          return "<p>" + $('#ref-' + ref).html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="site_libs/header-attrs-2.11.3/header-attrs.js"></script>
  <script src="site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <style type="text/css">

  kbd {
  padding:0.1em 0.6em;
  border:1px solid #ccc;
  font-size:11px;
  font-family:Arial,Helvetica,sans-serif;
  background-color:#f7f7f7;
  color:#333;
  -moz-box-shadow:0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;
  -webkit-box-shadow:0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;
  box-shadow:0 1px 0px rgba(0, 0, 0, 0.2),0 0 0 2px #ffffff inset;
  -moz-border-radius:3px;
  -webkit-border-radius:3px;
  border-radius:3px;
  display:inline-block;
  margin:0 0.1em;
  text-shadow:0 1px 0 #fff;
  line-height:1.4;
  white-space:nowrap;
  }

  /*
  Masterbrand charcoal #424242;
  C=0 M=0 Y=0 K=90
  R=66 G=66 B=66

  Masterbrand red #e64626;
  C=0 M=0 Y=0 K=90
  R=66 G=66 B=66

  Masterbrand white #ffffff;
  C=0 M=0 Y=0 K=0
  R=255 G=255 B=255

  Masterbrand black #000000;
  C=0 M=0 Y=0 K=100
  R=10 G=10 B=10

  Accent yellow #FFB800
  C=0 M=25 Y=98 K=0
  R=255 G=184 B=0

  Accent blue #0148A4
  C=100 M=61 Y=0 K=0
  R=1 G=72 B=164

  Accent grey - supportive #F1F1F1
  C=0 M=0 Y=0 K=10
  R=241 G=241 B=241
  */












  blockquote {
      border-left:none;
      font-size: 1em;
      display: block;
      margin-top: .25em;
      margin-left: 20px;
  }

  .learnout {
    background-color: "bg-info";
    border: 3px solid #0148A4;
    border-radius: 5px;
    padding-top: 10px;
    padding-right: 10px;
    padding-bottom: 0px;
    padding-left: 10px;
    font-size: 1rem;
    line-height: 1.2em
  }

  .learnout b, .learnout strong {
     color: #0148A4;
     }
    
  .learnout ul > li::marker {
    font-size: 1.125em;
    color: #0148A4;
  }

  .learnout li {
      margin-bottom: 0;
      margin-left: 0;
      padding-left: 0;
  }

  d-title h1 {
      font-size: 32px;
          color:	#e64626;
          font-weight: bold;
  }

  d-article h1 {
      /* Masterbrand red */
      font-size: 26px;
      color:	#e64626;
          font-weight: bold;
  }
  d-article h2 {
    font-size: 24px;
  }
  d-article h3 {
    font-size: 20px;
  }
  h4 {
    font-size: 18px;
  }
  h2, h3, h4, h5, h6 {
      font-weight: bold;
      color: black;
  }

  /* link colour */
  a {
      color: #0148A4;
  }

  /* general text colour */
  body {
       /* Masterbrand charcoal */
      color: #424242;

  }

  /* From https://work.smarchal.com/twbscolor/3.3.7/css/ffffffffffff424242e646260 */
  /* Might need updating when the bootstrap version changes */



  .right{
      float:right;
  }

  .left{
      float:left;
  }

  .distill-site-header a, .distill-site-header .title {
      padding: 0px 10px 0px 10px;
  }

  .distill-site-nav {
      color: #fff;
      background-color: #333333;
      font-weight: 300;
      padding: 10px;
      font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
      /* padding-bottom: 10px; */
      /* font-size: 12px; */
  }
  .distill-site-nav > li > a:hover,
  .distill-site-nav > li > a:focus {
    color: #e64626;
  }
  .distill-site-nav a:hover,
  .distill-site-nav a:focus {
    color: #e64626;
  }
  .distill-site-nav > .open > a,
  .distill-site-nav > .open > a:hover,
  .distill-site-nav > .open > a:focus {
    color: #e64626;
  }

  .distill-site-nav.active {
      color: #e64626;
      background-color: #ffffff;
  }



  /* End https://work.smarchal.com/twbscolor/3.3.7/css/ffffffffffff424242e646260 */

  /* Floating table of contents highlight colour */
  .list-group-item.active,
  .list-group-item.active:focus,
  .list-group-item.active:hover {
      background-color: #e64626;
  }

  /* Hover and select dropdown menu in the navbar */
  .dropdown-menu > .active > a,
  .dropdown-menu > .active > a:hover,
  .dropdown-menu > .active > a:focus {
      background-color: #e64626;
  }
  .dropdown-menu > li > a:hover {
      background-color: #e64626;
      background-image: none;
  }


  /* Clipboard --------------------------*/

  .hasCopyButton {
    position: relative;
  }

  .btn-copy-ex {
    position: absolute;
    right: 0;
    /* use top: 0 without code folding */
    top: 0;
    /* use bottom: 0 with code folding */
    /* bottom: 0; */
    visibility: hidden;
  }

  .hasCopyButton:hover button.btn-copy-ex {
    visibility: visible;
  }

  </style>
  <!--/radix_placeholder_site_in_header-->

  <link rel="stylesheet" href="assets/css/kbd.css" type="text/css"/>
  <link rel="stylesheet" href="assets/css/style.css" type="text/css"/>

</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"DATA2902 resources","authors":[]}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="index.html" class="title">DATA2x02</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="https://canvas.sydney.edu.au/courses/35181">Canvas</a>
<a href="index.html" aria-label="DATA2002">
<i class="fa fa-home" aria-hidden="true"></i>
</a>
<a href="data2902.html">DATA2902</a>
<a href="community.html" aria-label="Community">
<i class="fa fa-users" aria-hidden="true"></i>
</a>
<a href="tips.html" aria-label="Tips">
<i class="fa fa-star" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>DATA2902 resources</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->

</div>


<div class="d-article">
<div class="layout-chunk" data-layout="l-body">

</div>
<p>Content specific to DATA2902 students will appear here.</p>
<h2 id="group-project">Group project</h2>
<p>There are two points of differentiation for DATA2902 students compared with DATA2002 students in the group project.</p>
<ol type="1">
<li>In the model selection stage, DATA2902 need to consider the stability of their model selection decision. See <a href="data2902.html#stability">Week 10 and 11</a> for details.</li>
<li>A <strong>shiny app</strong> to accompany the executive summary that presents a fitted model and allows the user to make a model-based prediction by changing the values of the inputs. It only needs to be a one page app (no need for tabs). The app also needs to output the uncertainty associated with the prediction. The app should be included in your GitHub repo (create a folder called <code>app</code>) and uploaded to shinyapps.io with the link provided in the comments alongside the report submission on Canvas. <del>and I should be able to run it using the command:</del> <code>~~shiny::runGitHub("UNIKEY/PROJECT_ID", subdir = "app")~~</code></li>
</ol>
<p>In terms of marking, consideration of stability selection will be incorporated in the model selection component of the rubric in both the <strong>presentation</strong> and the <strong>executive summary</strong>. For example, if it is not mentioned at all, there is no chance of getting above a level 2 rubric outcome. To get a level 3 rubric outcome it needs to be mentioned and coherently discussed (alongside the more traditional model selection methods).</p>
<p>There will be a rubric item in the <strong>Executive summary</strong> for the Shiny app. The three levels will be “Missing”, “Functional” and “A joy to use”. An extremely nicely implemented shiny app that goes beyond “A joy to use” may also contribute to the “Innovation” component.</p>
<h2 id="first-assignment">First assignment</h2>
<p>In addition to the standard assignment questions. DATA2902 students need to design a shiny app that implements dynamic hypothesis tests and visualisations based on the selected variable(s) from the survey data set.</p>
<ul>
<li>Your app should be hosted on shinyapps.io (you can create a free account which should be more than sufficient to host this one app).</li>
<li>Please provide the URL to the app in the comments box for your assignment submission.</li>
<li>It will be assessed in terms of its ease of use, intuitiveness, presentation, as well as whether or not the tests and visualisations you’ve implemented are appropriate for the variables you’ve allowed to be selected.</li>
<li>Don’t worry about trying to fix assumption problems (e.g. collapsing categories due to small cell counts) but an app that gets full marks will dynamically report whether assumptions have been met or not.</li>
</ul>
<p>For the contribution to your overall DATA2902 assignment mark the shiny app is worth 50% and the DATA2002 report is worth 50%. I.e. each are worth 5% of your overall DATA2902 grade.</p>
<h2 id="week-1">Week 1</h2>
<p>In the first lab, we will introduce <a href="https://shiny.rstudio.com/">Shiny</a> to take our <strong>palmerpenguins</strong> data exploration to the next level. We will take the template provided by RStudio when we go <code>File</code> &gt; <code>New Project</code> &gt; <code>New Directory</code> &gt; <code>Shiny web application</code> &gt; give it a name (e.g. penguins) and a folder to live in, tick <code>Open in new session</code> and click “Create Project”. Shiny is massive and the only way to learn it is by doing and failing and doing again. <a href="https://shiny.rstudio.com/tutorial/">Here’s</a> a selection of tutorials.</p>
<ul>
<li><a href="https://echo360.net.au/media/b672a709-6c66-4872-8829-d60212015c11/public">Recording</a> (I had to host it through Canvas because the file was too large for GitHub, so you can also see it under “Recorded lectures” in Canvas.)</li>
<li><a href="data2902/week1/app.R"><code>app.R</code></a> (and hosted version <a href="https://garthtarr.shinyapps.io/penguins/">here</a>)</li>
</ul>
<p>If you’re interested in deploying Shiny your applications, see here for <a href="https://shiny.rstudio.com/tutorial/written-tutorial/lesson7/">details</a>.</p>
<h2 id="week-2">Week 2</h2>
<p>We will build another shiny app using an input to filter the fatalities data set and output a bar chart of fatalities by month as well returning the print output of a chi-square goodness of fit test for the hypothesis that fatalities are uniformly distributed across the months.</p>
<ul>
<li><a href="https://echo360.net.au/media/b17a8b97-410d-4fa3-b363-dbc368a43242/public">Recording</a></li>
<li><a href="data2902/week2/fatalities_app.zip">App code (zip file)</a></li>
</ul>
<p>Some important points:</p>
<ul>
<li><a href="https://shiny.rstudio.com/articles/reactivity-overview.html">reactivity</a></li>
<li>Using the lists <code>input$input_name</code> and <code>output$output_name</code></li>
<li>Introduced <code>%in%</code> instead of <code>==</code> (see <a href="https://stackoverflow.com/questions/42637099/difference-between-the-and-in-operators-in-r">here</a>).</li>
<li>Added the <code>multiple = TRUE</code> option to <code>selectizeInput()</code></li>
<li>Created a <strong>reactive</strong> function <code>final_data()</code> to stop us writing the same code in multiple places. This is a good thing - if you need to change the data processing later on, you only need to update it in one place.</li>
<li>The <code>pull()</code> function for extracting a column from a data frame (converts it to a standard vector).</li>
<li>Used <code>paste(input$year_selection, collapse = ", ")</code> which will combine all the elements of <code>input$year_selection</code> into one string separated by <code>,</code>.</li>
</ul>
<h2 id="week-3">Week 3</h2>
<ol type="1">
<li>Suppose that the disease is rare so that <span class="math inline">\(P(D^-)\)</span>, <span class="math inline">\(P(D^-|R^+)\)</span> and <span class="math inline">\(P(D^-|R^-)\)</span> are close to 1. In this setting, show that the odds ratio is approximately equal to the relative risk.</li>
<li>Show that the relative risk equals 1 <em>if and only if</em> the odds ratio equals 1.</li>
</ol>
<details>
<summary>
<b>Solution</b>
</summary>
<h3 id="relationship-between-rr-and-or">Relationship between RR and OR</h3>
<ol type="1">
<li><p>Suppose that the disease is rare so that <span class="math inline">\(P(D^-)\)</span>, <span class="math inline">\(P(D^-|R^+)\)</span> and <span class="math inline">\(P(D^-|R^-)\)</span> are close to <span class="math inline">\(1\)</span>. Show that the odds ratio is approximately equal to the relative risk. <span class="math display">\[\begin{align*}
\text{OR} &amp; = \frac{P(D^+|R^+)}{P(D^-|R^+)} \times \frac{P(D^-|R^-)}{P(D^+|R^-)} \\
&amp; \approx \frac{P(D^+|R^+)}{1} \times \frac{1}{P(D^+|R^-)} \\
&amp; = \frac{P(D^+|R^+)}{P(D^+|R^-)} \\
&amp; = \text{RR}
\end{align*}\]</span></p></li>
<li><p>Show that the relative risk equals 1 if and only if the odds ratio equals 1. If <span class="math inline">\(RR=1\)</span> then <span class="math inline">\(\dfrac{a(c+d)}{c(a+b)} = 1\)</span> then, <span class="math display">\[\begin{align*}
a(c+d) &amp; = c(a+b) \\
ac+ad &amp; = ca+cb  \\
ad &amp; = cb \\
\frac{ad}{cb} &amp; = 1 \\
\text{OR} &amp; = 1
\end{align*}\]</span> If <span class="math inline">\(OR = 1\)</span> then <span class="math inline">\(\dfrac{ad}{cb} = 1 \implies ad = cb\)</span>, and <span class="math display">\[RR = \frac{a(c+d)}{c(a+b)} = \frac{ac+ad}{ac+cb} = \frac{ac+ad}{ac+ad} = 1\]</span> Hence, <span class="math inline">\(OR=1\)</span> if and only if <span class="math inline">\(RR=1\)</span>.</p></li>
</ol>
</details>
<p>Penguins app revisited. We’ll go back to the penguins app from week 1, and add some new features, e.g. new tab, data table, report the correlation coefficients, optionally show the line of best fit,… think about what you might want to make happen, shiny can probably do it.</p>
<ul>
<li><a href="https://echo360.net.au/media/7a0368a0-6326-4be5-97f2-07ce2ddf498e/public">Recording</a></li>
<li><a href="data2902/week3/app.R">app.R</a></li>
<li>Note that in the app, I’ve added a table of correlation coefficients that update reactively to the selected x and y variables and grouping categories. I’ve also included the concept of a named vector in the continuous and categorical variable drop down options so that it is more presentable.</li>
<li>Styling your shiny app:
<ul>
<li><a href="https://shiny.rstudio.com/articles/themes.html">Themes using bslib</a></li>
<li><a href="https://shiny.rstudio.com/articles/css.html">Adding CSS</a></li>
<li><a href="https://www.youtube.com/watch?v=GHBwprI_Py4">Joe Cheng | Styling Shiny apps with Sass and Bootstrap</a></li>
<li>Alternative dashboard frameworks: <a href="https://rstudio.github.io/shinydashboard/">shinydashboard</a>, <a href="https://pkgs.rstudio.com/flexdashboard/">flexdashboard</a>, <a href="https://rinterface.github.io/bs4Dash/index.html">bs4dash</a></li>
</ul></li>
</ul>
<h2 id="week-4">Week 4</h2>
<ul>
<li>Fisher’s exact test worked through “manually” (to be done in your own time after the lab).</li>
</ul>
<details>
<summary>
<b>Question</b>
</summary>
<p>Source: <span class="citation" data-cites="Rice:2006">Rice (<a href="#ref-Rice:2006" role="doc-biblioref">2006, 514–15</a>)</span></p>
<p><span class="citation" data-cites="Rosen:1974">Rosen and Jerdee (<a href="#ref-Rosen:1974" role="doc-biblioref">1974</a>)</span> conducted several experiments, using as subjects male bank supervisors attending a management institute. As part of their training, the supervisors had to make decisions on items in an in-basket. The investigators embedded their experimental materials in the contents of the in-baskets. In one experiment, the supervisors were given a personnel file and had to decide whether to promote the employee or to hold the file and interview additional candidates. By random selection, 24 of the supervisors examined a file labeled as being that of a male employee and 24 examined a file labeled as being that of a female employee; the files were otherwise identical. The results are summarised in the following table:</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>Male</th>
<th>Female</th>
<th>Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Promote</td>
<td>21</td>
<td>14</td>
<td>35</td>
</tr>
<tr class="even">
<td>Hold file</td>
<td>3</td>
<td>10</td>
<td>13</td>
</tr>
<tr class="odd">
<td>Total</td>
<td>24</td>
<td>24</td>
<td>48</td>
</tr>
</tbody>
</table>
<p>From the results, it appears that there is a gender bias - 21 of 24 men were promoted, but only 14 of 24 women were. But someone who was arguing against the presence of gender bias could claim that the results occurred by chance; that is, even if there were no bias and the supervisors were completely indifferent to gender, discrepancies like those observed could occur with fairly large probability by chance alone. To rephrase this argument, the claim is that 35 of the 48 supervisors chose to promote the employee and 13 chose not to, and that 21 of the 35 promotions were of a male employee merely because of the random assignment of supervisors to male and female files.</p>
<p>The strength of the argument against gender bias must be assessed by a calculation of probability. If it is likely that the randomisation could result in such an imbalance, the argument is difficult to refute; however, if only a small proportion of all possible randomisations would give such an imbalance, the argument has less force. We take as the null hypothesis that there is no gender bias and that any differences observed are due to the randomisation.</p>
<p>According to the null hypothesis, the margins of the table are fixed: There are 24 women, 24 men, 35 supervisors who choose to promote, and 13 who choose not to. Also, the process of randomisation determines the counts in the interior of the table (denoted by capital letters since they are random) subject to the constraints of the margins. With these constraints, there is only 1 degree of freedom in the interior of the table; if any interior count is fixed, the others may be determined.</p>
<p>Denote the counts in the table and on the margins as follows:</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>Male</th>
<th>Female</th>
<th>Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Promote</td>
<td><span class="math inline">\(Y_{11}\)</span></td>
<td><span class="math inline">\(Y_{12}\)</span></td>
<td><span class="math inline">\(y_{1\bullet}\)</span></td>
</tr>
<tr class="even">
<td>Hold file</td>
<td><span class="math inline">\(Y_{21}\)</span></td>
<td><span class="math inline">\(Y_{22}\)</span></td>
<td><span class="math inline">\(y_{2\bullet}\)</span></td>
</tr>
<tr class="odd">
<td>Total</td>
<td><span class="math inline">\(y_{\bullet 1}\)</span></td>
<td><span class="math inline">\(y_{\bullet 1}\)</span></td>
<td><span class="math inline">\(y_{\bullet\bullet}\)</span></td>
</tr>
</tbody>
</table>
<p>Consider the count <span class="math inline">\(Y_{11}\)</span>, the number of men who are promoted. Under the null hypothesis, the distribution of <span class="math inline">\(Y_{11}\)</span> is that of the number of successes in <span class="math inline">\(y_{\bullet 1} = 24\)</span> draws without replacement from a population of <span class="math inline">\(y_{1\bullet} = 35\)</span> successes and <span class="math inline">\(y_{2\bullet}=13\)</span> failures; that is, the distribution of <span class="math inline">\(Y_{11}\)</span> induced by the randomisation is hypergeometric. The probability that <span class="math inline">\(Y_{11} = y_{11}\)</span> is <span class="math display">\[P(Y_{11} = y_{11}) = \frac{\binom{y_{1\bullet}}{y_{11}}\binom{y_{2\bullet}}{y_{\bullet 1} - y_{11}}}{\binom{y_{\bullet\bullet}}{y_{\bullet 1}}}.\]</span> <em>Note that</em> <span class="math inline">\(y_{21} = y_{\bullet 1} - y_{11}\)</span> <em>but it’s “nicer” to write the probability statement in terms of the single outcome of interest and the fixed marginals.</em></p>
<p>Use the hypergeometric distribution (Fisher’s exact test) to calculate a p-value to determine if male applicants are favoured for promotion.</p>
</details>
<details>
<summary>
<b>Solution</b>
</summary>
<p>Fisher’s test would reject <span class="math inline">\(H_0\)</span> in favour of the one-sided alternative <span class="math inline">\(H_1\)</span> for large values of <span class="math inline">\(x\)</span> under the null distribution: <span class="math display">\[P(Y_{11} = y_{11}) = \frac{ \binom{35}{y_{11}} \binom{13}{24 - y_{11}} }{ \binom{48}{24}}, \quad 11\leq y_{11} \leq 24.\]</span> The p-value is: <span class="math display">\[\begin{align*}
P(Y_{11} \geq 21) &amp; = P(Y_{11} = 21) + P(Y_{11} = 22) +P(Y_{11} = 23)+ P(Y_{11} = 24) \\
&amp; = \frac{ \binom{35}{21} \binom{13}{24 - 21} }{ \binom{48}{24}} + \frac{ \binom{35}{22} \binom{13}{24 - 22} }{ \binom{48}{24}} + \frac{ \binom{35}{23} \binom{13}{24 - 23} }{ \binom{48}{24}} + \frac{ \binom{35}{24} \binom{13}{24 - 24} }{ \binom{48}{24}} \\
&amp; = \frac{ \binom{35}{21} \binom{13}{3} }{ \binom{48}{24}} + \frac{ \binom{35}{22} \binom{13}{2} }{ \binom{48}{24}} + \frac{ \binom{35}{23} \binom{13}{1} }{ \binom{48}{24}} + \frac{ \binom{35}{24} \binom{13}{0} }{ \binom{48}{24}} \\
&amp; = 0.025
\end{align*}\]</span></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Hypergeometric.html'>dhyper</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>21</span><span class='op'>:</span><span class='fl'>24</span>, m <span class='op'>=</span> <span class='fl'>35</span>, n <span class='op'>=</span> <span class='fl'>13</span>, k <span class='op'>=</span> <span class='fl'>24</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.02449571</code></pre>
</div>
<p>Or using the <code>fisher.test()</code> function:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>x</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>21</span>, <span class='fl'>3</span>, <span class='fl'>14</span>, <span class='fl'>10</span><span class='op'>)</span>
<span class='va'>x_mat</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='va'>x</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/stats/fisher.test.html'>fisher.test</a></span><span class='op'>(</span><span class='va'>x_mat</span>, alternative <span class='op'>=</span> <span class='st'>"greater"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>
    Fisher&#39;s Exact Test for Count Data

data:  x_mat
p-value = 0.0245
alternative hypothesis: true odds ratio is greater than 1
95 percent confidence interval:
 1.230224      Inf
sample estimates:
odds ratio 
   4.83119 </code></pre>
</div>
<p>What if we were concerned about bias in general? How would our p-value change?</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fl'>2</span> <span class='op'>*</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Hypergeometric.html'>dhyper</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>21</span><span class='op'>:</span><span class='fl'>24</span>, m <span class='op'>=</span> <span class='fl'>35</span>, n <span class='op'>=</span> <span class='fl'>13</span>, k <span class='op'>=</span> <span class='fl'>24</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.04899141</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/fisher.test.html'>fisher.test</a></span><span class='op'>(</span><span class='va'>x_mat</span>, alternative <span class='op'>=</span> <span class='st'>"two.sided"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>
    Fisher&#39;s Exact Test for Count Data

data:  x_mat
p-value = 0.04899
alternative hypothesis: true odds ratio is not equal to 1
95 percent confidence interval:
  1.00557 32.20580
sample estimates:
odds ratio 
   4.83119 </code></pre>
</div>
</details>
<h2 id="week-5">Week 5</h2>
<p><strong>Rejection region and power in z-tests</strong></p>
<p>When the data are sampled from a normal population and <span class="math inline">\(\sigma\)</span> is known, we don’t need to use the <span class="math inline">\(t\)</span>-distribution. Answer the following questions from first principles using the normal distribution.</p>
<p>For the test of hypothesis <span class="math display">\[H_0\colon\ \mu=950 \hspace{3mm} \text{versus} \hspace{3mm} H_1\colon\ \mu \ne 950,\]</span> calculate the following values given that <span class="math inline">\(\bar x=1000\)</span>, <span class="math inline">\(\alpha = 0.10\)</span>, <span class="math inline">\(\sigma = 200\)</span> and <span class="math inline">\(n=25\)</span>.</p>
<ol type="a">
<li>Find the rejection region. Hence, calculate the probability of Type II error, <span class="math display">\[\beta(\mu = 1000) = P(\text{Do not reject } H_0 ~|~ H_0 \text{ is false and }\mu=1000).\]</span> Code up your own function to calculate this in R, e.g.</li>
</ol>
<pre><code>beta_fn = function(mu0, mu, alpha, sigma, n){
  # your code goes here
}</code></pre>
<p><font color='blue'></p>
<p>Rejection region is:</p>
<p><span class="math inline">\(\bar x &lt; \mu_0-z_{0.95} \sigma/\sqrt{n}=950-1.645\cdot 200/\sqrt{25}= 884.2\)</span> or <span class="math inline">\(\bar x &gt; \mu_0+z_{0.95} \sigma/\sqrt{n}=950+1.645\cdot 200/\sqrt{25}=1015.8\)</span></p>
<p>Then the Type II error is</p>
<p><span class="math display">\[\begin{aligned}
\beta(1000) &amp; = P(\text{Do not reject } H_0 ~|~ H_0 \text{ is false and }\mu=1000)\\
&amp; = P( 884.2 &lt; \bar X &lt; 1015.8 ~|~ \bar X \sim {\mathcal N}(1000, 200^2/25)) \\
&amp; = P\left( \frac{884.2-1000}{200/\sqrt{25}} &lt;Z&lt; \frac{1015.8-1000}{200/\sqrt{25}} \right) \\
&amp; = P(-2.89&lt; z&lt; 0.39) \\
&amp; = 0.6535-0.0019=0.6516.
\end{aligned}\]</span></p>
<p>We could code this up as follows:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beta_fn</span> <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>mu0</span>, <span class='va'>mu</span>, <span class='va'>alpha</span>, <span class='va'>sigma</span>, <span class='va'>n</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='co'># lower bound of the rejection region</span>
    <span class='va'>rr_l</span> <span class='op'>=</span> <span class='va'>mu0</span> <span class='op'>-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>qnorm</a></span><span class='op'>(</span><span class='fl'>1</span> <span class='op'>-</span> <span class='va'>alpha</span><span class='op'>/</span><span class='fl'>2</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>sigma</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span>
    <span class='co'># upper bound of the rejection region</span>
    <span class='va'>rr_u</span> <span class='op'>=</span> <span class='va'>mu0</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>qnorm</a></span><span class='op'>(</span><span class='fl'>1</span> <span class='op'>-</span> <span class='va'>alpha</span><span class='op'>/</span><span class='fl'>2</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>sigma</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span>
    <span class='va'>prob1</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>pnorm</a></span><span class='op'>(</span><span class='va'>rr_u</span>, mean <span class='op'>=</span> <span class='va'>mu</span>, sd <span class='op'>=</span> <span class='va'>sigma</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span>
    <span class='va'>prob2</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>pnorm</a></span><span class='op'>(</span><span class='va'>rr_l</span>, mean <span class='op'>=</span> <span class='va'>mu</span>, sd <span class='op'>=</span> <span class='va'>sigma</span><span class='op'>/</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span>
    <span class='va'>prob1</span> <span class='op'>-</span> <span class='va'>prob2</span>
<span class='op'>}</span>
<span class='fu'>beta_fn</span><span class='op'>(</span>mu0 <span class='op'>=</span> <span class='fl'>950</span>, mu <span class='op'>=</span> <span class='fl'>1000</span>, alpha <span class='op'>=</span> <span class='fl'>0.1</span>, sigma <span class='op'>=</span> <span class='fl'>200</span>, n <span class='op'>=</span> <span class='fl'>25</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.6516279</code></pre>
</div>
<p></font></p>
<ol start="2" type="a">
<li>Using (a), calculate the power of the test and interpret your answer.</li>
</ol>
<p><font color='blue'></p>
<p>The power when <span class="math inline">\(\mu=1000\)</span> is</p>
<p><span class="math display">\[\begin{aligned}
\text{Power}(1000) &amp; = P(\text{Reject } H_0 \ |  \ H_0 \text{ is false and }\mu=1000) \\
&amp; = 1- \beta(1000) \\
&amp; =1-0.6516=0.3484
\end{aligned}\]</span></p>
<p>Or using our function above,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fl'>1</span> <span class='op'>-</span> <span class='fu'>beta_fn</span><span class='op'>(</span>mu0 <span class='op'>=</span> <span class='fl'>950</span>, mu <span class='op'>=</span> <span class='fl'>1000</span>, alpha <span class='op'>=</span> <span class='fl'>0.1</span>, sigma <span class='op'>=</span> <span class='fl'>200</span>, n <span class='op'>=</span> <span class='fl'>25</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.3483721</code></pre>
</div>
<p>Hence the probability of rejecting <span class="math inline">\(H_0\colon \mu=950\)</span> when in fact <span class="math inline">\(\mu=1000\)</span> is 0.3465.</p>
<p></font></p>
<ol start="3" type="a">
<li>Recalculate <span class="math inline">\(\beta\)</span> if <span class="math inline">\(n=40\)</span>. What is the effect of increasing the sample size on the value of <span class="math inline">\(\beta\)</span>?</li>
</ol>
<p><font color='blue'></p>
<p>The rejection region is</p>
<p><span class="math inline">\(\bar x &lt; \mu_0-z_{0.95} \sigma/\sqrt{n}=950-1.645\cdot 200/\sqrt{40}= 897.99\)</span> or <span class="math inline">\(\bar x &gt; \mu_0+z_{0.95} \sigma/\sqrt{n}=950+1.645\cdot 200/\sqrt{40}=1002.02\)</span></p>
<p>The Type II error is</p>
<p><span class="math display">\[\begin{aligned} 
\beta(1000) &amp; = P(\text{Do not reject }H_0 ~|~ H_0 \text{ is false and }\mu=1000) \\
&amp; = P( 897.99 &lt; \bar X &lt; 1002.02 ~|~ \bar X \sim {\mathcal N}(1000, 200^2/40)) \\
&amp; = P\left( \frac{897.99-1000}{200/\sqrt{40}} &lt; Z &lt; \frac{1002.02-1000}{200/\sqrt{40}} \right) \\
&amp; = P(-3.2260&lt; Z&lt; 0.0637) \\
&amp; = 0.5254-0.0006=0.5248.
\end{aligned}\]</span></p>
<p><span class="math inline">\(\beta\)</span> decreases as <span class="math inline">\(n\)</span> increases.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>beta_fn</span><span class='op'>(</span>mu0 <span class='op'>=</span> <span class='fl'>950</span>, mu <span class='op'>=</span> <span class='fl'>1000</span>, alpha <span class='op'>=</span> <span class='fl'>0.1</span>, sigma <span class='op'>=</span> <span class='fl'>200</span>, n <span class='op'>=</span> <span class='fl'>40</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.5247737</code></pre>
</div>
<p></font></p>
<ol start="4" type="a">
<li>Recalculate <span class="math inline">\(\beta\)</span> if <span class="math inline">\(\alpha\)</span> is lowered from 0.1 to 0.05 (with <span class="math inline">\(n=25\)</span>). What is the effect of increasing the significance level on the value of <span class="math inline">\(\beta\)</span>?</li>
</ol>
<p><font color='blue'></p>
<p>Rejection region is</p>
<p><span class="math inline">\(\bar x &lt; \mu_0-z_{0.975} \sigma/\sqrt{n}=950-1.96\cdot 200/\sqrt{25}= 871.6015\)</span></p>
<p><span class="math inline">\(\text{or} \ \bar x &gt; \mu_0+z_{0.975} \sigma/\sqrt{n}=950+1.96\cdot 200/\sqrt{25}=1028.399\)</span></p>
<p>The Type II error is <span class="math display">\[\begin{aligned}
\beta(1000) &amp; = P(\text{Do not reject } H_0 ~|~ H_0 \text{ is false and }\mu=1000) \\
&amp; = P( 871.6015 &lt; \bar X &lt; 1028.399 ~|~ \bar X \sim {\mathcal N}(1000, 200^2/25)) \\
&amp; = P\left( \frac{871.6015-1000}{200/\sqrt{25}} &lt;Z&lt; \frac{1028.399-1000}{200/\sqrt{25}} \right) \\
&amp; = P(-3.210&lt;Z&lt; 0.710) \\
&amp; = 0.7611-0.0007=0.7605.
\end{aligned}\]</span></p>
<p><span class="math inline">\(\beta\)</span> increases as <span class="math inline">\(\alpha\)</span> decreases.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>beta_fn</span><span class='op'>(</span>mu0 <span class='op'>=</span> <span class='fl'>950</span>, mu <span class='op'>=</span> <span class='fl'>1000</span>, alpha <span class='op'>=</span> <span class='fl'>0.05</span>, sigma <span class='op'>=</span> <span class='fl'>200</span>, n <span class='op'>=</span> <span class='fl'>25</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.760473</code></pre>
</div>
<p></font></p>
<h2 id="week-6">Week 6</h2>
<p>Self reading: Hotelling’s <span class="math inline">\(t\)</span>-test and multivariate two-sample <span class="math inline">\(t\)</span>-test.</p>
<ul>
<li>Rencher, A. (2002). Methods of multivariate analysis (2nd ed.). New York: J. Wiley. <a href="https://onlinelibrary-wiley-com.ezproxy1.library.usyd.edu.au/doi/book/10.1002/0471271357" class="uri">https://onlinelibrary-wiley-com.ezproxy1.library.usyd.edu.au/doi/book/10.1002/0471271357</a> <strong>Chapter 5, sections 5.1 to 5.4.</strong></li>
</ul>
<p>There won’t be any assessment questions related to this topic, it’s more for general interest and because it’s important to know that it exists as a multivariate generalisation.</p>
<h2 id="week-7">Week 7</h2>
<p>Reading time. Simulation p-values applied to gun laws and mass shootings:</p>
<ul>
<li><a href="https://annals-org.ezproxy1.library.usyd.edu.au/aim/fullarticle/2675234/fatal-firearm-incidents-before-after-australia-s-1996-national-firearms">Chapman S, Stewart M, Alpers P, Jones M. Fatal Firearm Incidents Before and After Australia’s 1996 National Firearms Agreement Banning Semiautomatic Rifles. <em>Annals of Internal Medicine</em>. 169:62–64. doi: 10.7326/M18-0503</a></li>
<li><a href="http://freerangestats.info/blog/2019/09/07/mass-shootings-oz">Reimplemented code and more detailed discussion around the statistics from the <em>free range statistics</em> blog titled “Poisson point processes, mass shootings and clumping” by Peter Ellis</a></li>
</ul>
<h2 id="week-8-anova-algebra">Week 8: ANOVA algebra</h2>
<div class="layout-chunk" data-layout="l-body">

</div>
<h3 id="the-equal-variances-assumption">The equal variances assumption</h3>
<p>Suppose we have two samples <span class="math inline">\(x_1,\ldots,x_m\)</span> and <span class="math inline">\(y_1,\ldots,y_n\)</span> with respective sample variances <span class="math inline">\(s_x^2\)</span> and <span class="math inline">\(s_y^2\)</span>. The usual <em>pooled</em> estimate of the variance is given by <span class="math display">\[s_p^2 = \frac{(m-1)s_x^2+(n-1)s_y^2}{m+n-2}\,.\]</span> Consider the <em>similar</em> quantity which is almost the same as this, i.e. is a weighted average of the two sample variances but with slightly different weights (proportional to sample size, instead of “sample size minus one”): <span class="math display">\[v= \frac{ms_x^2+ns_y^2}{m+n}\,.\]</span></p>
<ol type="a">
<li>Show that <span class="math display">\[v \left( \frac{1}{m}+\frac{1}{n} \right) = \frac{s_x^2}{n}+\frac{s_y^2}{m}\,.\]</span></li>
<li>Comment on why this is relevant to the sensitivity of the ordinary <em>Classical</em> two-sample <span class="math inline">\(t\)</span>-test to the equality of variance assumption (<em>hint</em>: think about the standard error used in the Welch test).</li>
</ol>
<details>
<summary>
<b>Solution</b>
</summary>
<ol type="a">
<li></li>
</ol>
<p><span class="math display">\[\begin{align*}
v\left(\frac{1}{m} + \frac{1}{n}\right) &amp; = \frac{ms_x^2+ns_y^2}{m+n}\left(\frac{m+n}{mn}\right) \\
&amp; = \frac{ms_x^2+ns_y^2}{mn} \\
&amp; = \frac{s_x^2}{n}+\frac{s_y^2}{m}
\end{align*}\]</span></p>
<ol start="2" type="a">
<li>For large <span class="math inline">\(m\)</span> and <span class="math inline">\(n\)</span>, there is little difference between <span class="math inline">\(v\)</span> and <span class="math inline">\(s_p^2\)</span>. The estimate of the variance of the sample mean difference in the Welch Test is <span class="math display">\[\frac{s_x^2}{m} + \frac{s_y^2}{n}\]</span> (i.e. with opposite denominators to <span class="math inline">\(v\)</span>) and this can be “trusted” whether the two population variances are equal or unequal.</li>
</ol>
<p>Thus <span class="math inline">\(v\)</span>, and by extension <span class="math inline">\(s_p^2\)</span>, can be very different to the “reliable” estimate, <span class="math inline">\(\frac{s_x^2}{m} + \frac{s_y^2}{n}\)</span>, and so in cases where these are very different, e.g. <span class="math inline">\(s_x\)</span> and <span class="math inline">\(s_y\)</span> are very different and/or <span class="math inline">\(m\)</span> and <span class="math inline">\(n\)</span> are very different, <span class="math inline">\(s_p\)</span> can be a very poor estimator of the true standard error.</p>
</details>
<h3 id="treatment-sum-of-squares-when-g2">Treatment Sum of Squares when <span class="math inline">\({g=2}\)</span></h3>
<p>Show that the Treatment Sum of Squares <span class="math display">\[ \sum_{i=1}^gn_i(\bar y_{i\cdot}-\bar y_{\cdot\cdot})^2\]</span> reduces to <span class="math display">\[ \left( \frac{\bar y_{1\cdot}-\bar y_{2\cdot}}{\sqrt{\frac{1}{n_1}+\frac{1}{n_2}}} \right)^2\,\]</span> in the special case where the number of groups <span class="math inline">\(g=2\)</span>. <em>Hint</em>: write <span class="math inline">\(\bar y_{\cdot\cdot}\)</span> as a function of <span class="math inline">\(\bar y_{1\cdot}\)</span> and <span class="math inline">\(\bar y_{2\cdot}\)</span>. Recall that <span class="math display">\[\begin{align*}
\bar y_{i\cdot} &amp;= \frac{1}{n_{i}}\sum_{j=1}^{n_i}y_{ij} \,,\\
\bar y_{\cdot\cdot} &amp;= \frac{1}{N}\sum_{i=1}^{g}\sum_{j=1}^{n_i}y_{ij}\text{ and }\\
N &amp;= \sum_{i=1}^gn_i\,.
\end{align*}\]</span></p>
<details>
<summary>
<b>Solution</b>
</summary>
<p>Note firstly that since <span class="math display">\[\begin{align*}
\bar y_{\cdot\cdot}= \frac{n_1\bar y_{1\cdot}+n_2\bar y_{2\cdot}}{n_1+n_2}\,,
\end{align*}\]</span> we have that <span class="math display">\[\begin{align*}
\bar y_{1\cdot}-\bar y_{\cdot\cdot} = \frac{(n_1+n_2)\bar y_{1\cdot}- \left[n_1\bar y_{1\cdot}+n_2\bar y_{2\cdot}  \right]}{n_1+n_2} = \frac{n_2(\bar y_{1\cdot}-\bar y_{2\cdot})}{n_1+n_2}\,;
\end{align*}\]</span> similarly <span class="math display">\[\begin{align*}
\bar y_{2\cdot}-\bar y_{\cdot\cdot} = \frac{n_1(\bar y_{2\cdot}-\bar y_{1\cdot})}{n_1+n_2}\,.
\end{align*}\]</span> Therefore the Treatment Sum of Squares is (when <span class="math inline">\(g=2\)</span>) <span class="math display">\[\begin{align*}
n_1(\bar y_{1\cdot}-\bar y_{\cdot\cdot})^2+n_2(\bar y_{2\cdot}-\bar y_{\cdot\cdot})^2 &amp;= \frac{n_1n_2^2(\bar y_{1\cdot}-\bar y_{2\cdot})^2 + n_2n_1^2(\bar y_{1\cdot}-\bar y_{2\cdot})^2}{(n_1+n_2)^2}\\
&amp;=\frac{n_1n_2(\bar y_{1\cdot}-y_{2\cdot})^2[n_1+n_2]}{(n_1+n_2)^2}\\
&amp;=\frac{n_1n_2(\bar y_{1\cdot}-y_{2\cdot})^2}{(n_1+n_2)}\\
&amp;=\frac{(\bar y_{1\cdot}-y_{2\cdot})^2}{\left(\frac{n_1+n_2}{n_1n_2}\right)}\\
&amp;=\frac{(\bar y_{1\cdot}-y_{2\cdot})^2}{\left(\frac1{n_2}+\frac1{n_1}\right)}
\end{align*}\]</span> as required.</p>
</details>
<h3 id="computing-formulae-for-sums-of-squares">Computing formulae for Sums of Squares</h3>
<p>Sometimes multi-sample data is summarised, often the sample mean <span class="math inline">\(\bar y_{i\cdot}\)</span> and variance <span class="math inline">\(s_i^2\)</span> are provided for each group but the original complete dataset is not available. In that case, we can still perform an analysis of variance, but what is the most efficient way to do so?</p>
<p>The Residual Sum of Squares is a simple linear combination of the sample variances: <span class="math display">\[\begin{align}
\sum_{i=1}^g\sum_{j=1}^{n_i}(y_{ij}-\bar y_{i\cdot})^2 &amp;=
\sum_{i=1}^g(n_i-1)s_i^2\,\label{vars}
\end{align}\]</span> (indeed the Residual <em>Mean</em> Square is the corresponding <em>weighted average</em>).</p>
<p>Although the Treatment Sum of Squares is an explicit function of the sample means, there is a slightly more efficient “computing formula” for it (analogous to the computing formula for sample variance), compared to following the definition “explicitly”.</p>
<p>Show that the Treatment Sum of Squares satisfies the following equalities:</p>
<p><span class="math display">\[\begin{align}
\sum_{i=1}^gn_i(\bar y_{i\cdot}-\bar y_{\cdot\cdot})^2 &amp;= \left( \sum_{i=1}^gn_i\bar y_{i\cdot}^2\right) - N\bar y_{\cdot\cdot}^2\label{means}\\
&amp; = \left(\sum_{i=1}^g \frac{y_{i\cdot}^2}{n_i}\right) - \frac{y_{\cdot\cdot}^2}{N} \,.\label{sums}
\end{align}\]</span> (note that the right-hand side of the first line has “bars” on top, the right-hand side of the bottom line doesn’t).</p>
<p><!-- # If these are being computed "by hand" (i.e. with a pen, paper and hand calculator) which of the two right-hand sides would be preferable? Why? --></p>
<p><!-- #  However, if the sample variances are not available but the *overall sum of squares of all observations* is available, then an analysis of --> <!-- #  variance can still be performed. The workflow is (in fact "used to --> <!-- #  be", in the old days): --> <!-- # ***  --> <!-- # compute the Total Sum of Squares using the (standard) computing --> <!-- # formula: --> <!-- # \[ \sum_{i=1}^g\sum_{j=1}^{n_i}(y_{ij}-\bar y_{\cdot\cdot})^2 =  --> <!-- #  \left(\sum_{i=1}^g\sum_{j=1}^{n_i}y_{ij}^2\right)-\frac{y_{\cdot\cdot}^2}N \,;\] --> <!-- # ***  --> <!-- # compute the Treatment Sum of Squares using either (\ref{means}) or --> <!-- # (\ref{sums}) above; --> <!-- # ***  --> <!-- # determine the Residual Sum of Squares by taking the difference --> <!-- # \[\text{Total Sum of Squares} - \text{Treatment Sum of Squares.}\] --></p>
<details>
<summary>
<b>Solution</b>
</summary>
<p><span class="math display">\[\begin{align*}
\sum_{i=1}^g n_i \left(\bar y_{i\bullet} - \bar y_{\bullet\bullet}\right)^2 &amp;= \sum_{i=1}^g n_i \left(\bar y_{i\bullet}^2 -2\bar y_{i\bullet}\bar y_{\bullet\bullet} + \bar y_{\bullet\bullet}^2\right) \\
&amp;= \sum_{i=1}^g n_i \bar y_{i\bullet}^2 -2\bar y_{\bullet\bullet}\sum_{i=1}^g n_i n_i\bar y_{i\bullet} + \bar y_{\bullet\bullet}^2\sum_{i=1}^g n_i \\
&amp;= \sum_{i=1}^g n_i \bar y_{i\bullet}^2 -2\bar y_{\bullet\bullet}y_{\bullet\bullet} + \bar y_{\bullet\bullet}^2 N  \\
&amp;= \sum_{i=1}^g n_i \bar y_{i\bullet}^2 -2N\bar y_{\bullet\bullet}^2 + N\bar y_{\bullet\bullet}^2  \\
&amp;= \sum_{i=1}^g n_i \bar y_{i\bullet}^2 -N\bar y_{\bullet\bullet}^2  \\
&amp;= \left(\sum_{i=1}^g \frac{y_{i\bullet}^2}{n_i}\right) -\frac{y_{\bullet\bullet}^2}{N} 
\end{align*}\]</span></p>
<p>Noting that <span class="math inline">\(y_{\bullet\bullet} = N\bar y_{\bullet\bullet}\)</span> and <span class="math inline">\(\bar y_{i\bullet} = y_{i\bullet}/n_i\)</span> and <span class="math inline">\(\bar y_{\bullet\bullet} = y_{\bullet\bullet}/N\)</span>.</p>
</details>
<h2 id="week-9-merging-data">Week 9: merging data</h2>
<p>This is a bit out of context here, it was needed for a project in a previous year, but isn’t required for the project this year. However, merging data is an important thing to know a bit about.</p>
<ul>
<li><a href="https://stat545.com/join-cheatsheet.html">STAT545 Chapter 15 Join two tables</a></li>
<li><a href="https://r4ds.had.co.nz/relational-data.html">R for Data Science, Chapter 13 Relational data</a></li>
</ul>
<h2 id="stability">Week 10 and 11: model selection stability</h2>
<p><strong>One of the “extra” things that DATA2902 students need to do for your group project is to analyse and discuss model selection stability using the mplot package.</strong></p>
<p>You’ll need to read <a href="https://www.jstatsoft.org/article/view/v083i09">this article</a> and work through section 7.1. Diabetes example yourself with the <strong>mplot</strong> package, see <a href="http://garthtarr.github.io/mplot/articles/diabetes.html">here</a>.</p>
<p>Slides and recordings:</p>
<ul>
<li><a href="https://garthtarr.com/pres/SUMS2019">Model selection stability presentation for a general audience</a></li>
<li>The mplot package for a more technical audience: <a href="https://garthtarr.github.io/avfs/lectures/lecB.html#17">slides 17-41</a> and <a href="https://echo360.net.au/media/e5496d14-af7e-4bdb-945c-5bf9f3907470/public">recording</a></li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-Rice:2006" class="csl-entry" role="doc-biblioentry">
Rice, J. A. 2006. <em>Mathematical Statistics and Data Analysis</em>. Advanced Series. Cengage Learning.
</div>
<div id="ref-Rosen:1974" class="csl-entry" role="doc-biblioentry">
Rosen, B., and T. H. Jerdee. 1974. <span>“Influence of Sex Role Stereotypes on Personnel Decisions.”</span> <em>Journal of Applied Psychology</em> 59: 9–14.
</div>
</div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
<h3 id="references">References</h3>
<div id="references-listing"></div>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<div class="distill-site-nav distill-site-footer">
<p><span class="left" padding-left = "20px"><a href="https://www.rstudio.com" style="border-bottom: none;"> <img src="assets/USydLogo-white.svg" height = "48px" alt="Logo" style= "padding-left: 40px;"> </a></span> <!-- <span class="right" style= "padding-right: 40px;">© Copyright 2021 The University of Sydney</span> --></p>
</div>
<!--/radix_placeholder_navigation_after_body-->


</body>

</html>
